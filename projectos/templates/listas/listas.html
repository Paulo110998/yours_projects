{% load static %}
<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <title></title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="{% static 'css/homepage.css' %}">
        <link rel="stylesheet" href="{% static 'css/welcome.css' %}">
        <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
        <link rel="icon" type="image/x-icon" href="{%  static 'imgs/projects.jpeg' %}">
        <script src = "https://unpkg.com/sweetalert/dist/sweetalert.min.js "></script> 
    <style>
    .container{
      margin-top: -5px;
    }
     .list-group{
      margin-top: 5px; 
      
 }
 .list-group-item{
    margin-left: 70px; 
   border-radius: 15px 15px 15px 15px;
 }
    .swal-modal {
background-color: white;
margin-top: -110px;
margin-right:30px;
border: 10px solid white;
width: 270px;
height: 130px;
}
    </style>
    </head>
    <body>
    {% if request.user.is_authenticated %}
    <header class="header" class="navbar">
    <div class="hamburger-menu" >
      <div class="line"></div>
      <div class="line"></div>
      <div class="line"></div>
    </div>
    <div class="menu">
    <b><li style="color:white;">Your Projects</li></b>
    {% if user.perfil.foto_perfil %}
    <li><img src="{{ user.perfil.foto_perfil.url }}"  style="margin-left: 5px;" alt="retrato" width="50" height="50"></li>
    {% else %}
    <li><a href="" style="color:black;" ><svg xmlns="http://www.w3.org/2000/svg" style="margin-top: -5px; margin-left: 7px;" width="30" height="30" fill="currentColor" class="bi bi-person-circle" viewBox="0 0 16 16">
    <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>
    <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"/>
    </svg></a></li>
    {% endif %}
    <li></li>
    
    <li><a href="{% url 'listar-list' %}" style="margin-top: 10px;">Listas <svg xmlns="http://www.w3.org/2000/svg"  style="margin-top:-50px; margin-left:45px; color:white;" width="30" height="20" fill="currentColor" class="bi bi-check-all" viewBox="0 0 16 16">
    <path d="M8.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L2.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093L8.95 4.992a.252.252 0 0 1 .02-.022zm-.92 5.14.92.92a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 1 0-1.091-1.028L9.477 9.417l-.485-.486-.943 1.179z"/>
    </svg></a></li>

    <li><a href="{% url 'your-business' %}" style="margin-top: -40px;">Business<svg xmlns="http://www.w3.org/2000/svg" style="margin-top:-58px; margin-left:70px; color:white;" width="18" height="20" fill="currentColor" class="bi bi-graph-up-arrow" viewBox="0 0 16 16">
    <path fill-rule="evenodd" d="M0 0h1v15h15v1H0V0Zm10 3.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0V4.9l-3.613 4.417a.5.5 0 0 1-.74.037L7.06 6.767l-3.656 5.027a.5.5 0 0 1-.808-.588l4-5.5a.5.5 0 0 1 .758-.06l2.609 2.61L13.445 4H10.5a.5.5 0 0 1-.5-.5Z"/>
    </svg>
    </a></li>
    <li><a href="#" style="margin-top: -40px;" >Suporte</a></li>
    <li><a href="{% url 'user_list' %}" style="margin-top:100px;">Usuários</a></li>
    <li><a href="{% url 'resetnewpassword' %}" style="margin-top: -10px;">Alterar Senha</a></li>
    <li><a href="{% url 'perfil-update' %}" style="margin-top: -10px;">Perfil</a></li>
    <li><a href="{% url 'logout' %}" style="margin-top: -10px;">Logout</a></li>
    </div>
    
 </div>
  </header>
  </div>
  <div class="container">
  <b><a href="{% url 'welcome' %}" style="color: white; margin-left: 10px; "><svg xmlns="http://www.w3.org/2000/svg" style="margin-top: -5px;" width="16" height="16" fill="currentColor" class="bi bi-arrow-90deg-left" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M1.146 4.854a.5.5 0 0 1 0-.708l4-4a.5.5 0 1 1 .708.708L2.707 4H12.5A2.5 2.5 0 0 1 15 6.5v8a.5.5 0 0 1-1 0v-8A1.5 1.5 0 0 0 12.5 5H2.707l3.147 3.146a.5.5 0 1 1-.708.708l-4-4z"/>
</svg> Back to projects</a></b>
  <br>
  <br>
  <h4 style="text-align:center; color:white;margin-top:10px;" href="#">Your List<svg xmlns="http://www.w3.org/2000/svg"   width="50" height="30" fill="currentColor" class="bi bi-check-all" viewBox="0 0 16 16">
    <path d="M8.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L2.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093L8.95 4.992a.252.252 0 0 1 .02-.022zm-.92 5.14.92.92a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 1 0-1.091-1.028L9.477 9.417l-.485-.486-.943 1.179z"/>
    </svg></h4>
  <br>
  

  <ul style="margin-top: 10px; margin-left:30px;">
  <div role="group" aria-label="Basic example">
  <a class="btn btn-light" href="{% url 'criar-list' %}">Criar Lista <svg xmlns="http://www.w3.org/2000/svg" style="margin-top:-3px;" width="20" height="20" fill="currentColor" class="bi bi-rocket" viewBox="0 0 16 16">
  <path d="M8 8c.828 0 1.5-.895 1.5-2S8.828 4 8 4s-1.5.895-1.5 2S7.172 8 8 8Z"/>
  <path d="M11.953 8.81c-.195-3.388-.968-5.507-1.777-6.819C9.707 1.233 9.23.751 8.857.454a3.495 3.495 0 0 0-.463-.315A2.19 2.19 0 0 0 8.25.064.546.546 0 0 0 8 0a.549.549 0 0 0-.266.073 2.312 2.312 0 0 0-.142.08 3.67 3.67 0 0 0-.459.33c-.37.308-.844.803-1.31 1.57-.805 1.322-1.577 3.433-1.774 6.756l-1.497 1.826-.004.005A2.5 2.5 0 0 0 2 12.202V15.5a.5.5 0 0 0 .9.3l1.125-1.5c.166-.222.42-.4.752-.57.214-.108.414-.192.625-.281l.198-.084c.7.428 1.55.635 2.4.635.85 0 1.7-.207 2.4-.635.067.03.132.056.196.083.213.09.413.174.627.282.332.17.586.348.752.57l1.125 1.5a.5.5 0 0 0 .9-.3v-3.298a2.5 2.5 0 0 0-.548-1.562l-1.499-1.83ZM12 10.445v.055c0 .866-.284 1.585-.75 2.14.146.064.292.13.425.199.39.197.8.46 1.1.86L13 14v-1.798a1.5 1.5 0 0 0-.327-.935L12 10.445ZM4.75 12.64C4.284 12.085 4 11.366 4 10.5v-.054l-.673.82a1.5 1.5 0 0 0-.327.936V14l.225-.3c.3-.4.71-.664 1.1-.861.133-.068.279-.135.425-.199ZM8.009 1.073c.063.04.14.094.226.163.284.226.683.621 1.09 1.28C10.137 3.836 11 6.237 11 10.5c0 .858-.374 1.48-.943 1.893C9.517 12.786 8.781 13 8 13c-.781 0-1.517-.214-2.057-.607C5.373 11.979 5 11.358 5 10.5c0-4.182.86-6.586 1.677-7.928.409-.67.81-1.082 1.096-1.32.09-.076.17-.135.236-.18Z"/>
  <path d="M9.479 14.361c-.48.093-.98.139-1.479.139-.5 0-.999-.046-1.479-.139L7.6 15.8a.5.5 0 0 0 .8 0l1.079-1.439Z"/>
  </svg></a>
  </div>
  </ul>
<br>


<form action="?" method="GET" enctype="multipart/form-data">

{% csrf_token %}
    <input style="text-align:center; margin-left:10px;" type="text" name="titulo" id ="" value="{{request.GET.titulo}}" , placeholder="Pesquisar">
    
    <button type="submit" class=" btn btn-primary btn-sm" style="margin-top:-5px;">Buscar</button>
    <a href="{% url 'listar-list' %}"  class="btn btn-light btn-sm" style="margin-top:-4px;margin-left:1px;">Limpar</a>
    
    <a href="{% url 'export_list' %}" style="text-align:left; color:white;" download style="color:black;">Exportar Pdf <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" style="margin-top: -10px;" fill="currentColor" class="bi bi-filetype-pdf" viewBox="0 0 16 16">
    <path fill-rule="evenodd" d="M14 4.5V14a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5L14 4.5ZM1.6 11.85H0v3.999h.791v-1.342h.803c.287 0 .531-.057.732-.173.203-.117.358-.275.463-.474a1.42 1.42 0 0 0 .161-.677c0-.25-.053-.476-.158-.677a1.176 1.176 0 0 0-.46-.477c-.2-.12-.443-.179-.732-.179Zm.545 1.333a.795.795 0 0 1-.085.38.574.574 0 0 1-.238.241.794.794 0 0 1-.375.082H.788V12.48h.66c.218 0 .389.06.512.181.123.122.185.296.185.522Zm1.217-1.333v3.999h1.46c.401 0 .734-.08.998-.237a1.45 1.45 0 0 0 .595-.689c.13-.3.196-.662.196-1.084 0-.42-.065-.778-.196-1.075a1.426 1.426 0 0 0-.589-.68c-.264-.156-.599-.234-1.005-.234H3.362Zm.791.645h.563c.248 0 .45.05.609.152a.89.89 0 0 1 .354.454c.079.201.118.452.118.753a2.3 2.3 0 0 1-.068.592 1.14 1.14 0 0 1-.196.422.8.8 0 0 1-.334.252 1.298 1.298 0 0 1-.483.082h-.563v-2.707Zm3.743 1.763v1.591h-.79V11.85h2.548v.653H7.896v1.117h1.606v.638H7.896Z"/>
    </svg></a>
    <!--<input name="myfile"  type="file" value="">
    <button type="submit" class=" btn btn-primary btn-sm-lg">Upload</button>-->
    </form>
<br>
{% csrf_token %}
{% for projectos in object_list %}
<a href="{% url 'editar-list' projectos.pk %}"  style="color:black;">
<div class="lista">
<ul class="list-group " class="border border-primary"  >
  <li class="list-group-item">
  <svg xmlns="http://www.w3.org/2000/svg" style="margin-top:-2px;" width="20" height="20" fill="currentColor" class="bi bi-card-text" viewBox="0 0 16 16">
  <path d="M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h13zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z"/>
  <path d="M3 5.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM3 8a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 8zm0 2.5a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5z"/>
 </svg>
  {{projectos.titulo}} | Prioridade: {{projectos.prioridade}}  

 | <svg xmlns="http://www.w3.org/2000/svg" style="margin-top:-2px;" width="20" height="20" fill="currentColor" class="bi bi-person-circle" viewBox="0 0 16 16">
  <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>
  <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"/>
</svg> {{projectos.criador}}
 | Projeto: {{projectos.projetos}}  
<!--<input type="checkbox" name="" value="">-->
  <a href="{% url 'deletar-list' projectos.pk %}"  class="btn btn-primary btn-sm" ><svg xmlns="http://www.w3.org/2000/svg" style="color:white;"  width="25" height="25" fill="currentColor" class="bi bi-trash2-fill" viewBox="0 0 16 16">
  <path d="M2.037 3.225A.703.703 0 0 1 2 3c0-1.105 2.686-2 6-2s6 .895 6 2a.702.702 0 0 1-.037.225l-1.684 10.104A2 2 0 0 1 10.305 15H5.694a2 2 0 0 1-1.973-1.671L2.037 3.225zm9.89-.69C10.966 2.214 9.578 2 8 2c-1.58 0-2.968.215-3.926.534-.477.16-.795.327-.975.466.18.14.498.307.975.466C5.032 3.786 6.42 4 8 4s2.967-.215 3.926-.534c.477-.16.795-.327.975-.466-.18-.14-.498-.307-.975-.466z"/>
</svg></a>
</li>
     
{% empty %}
    <li style="margin-left:50px; color:white;">Nenhuma lista registrada..</li>
</ul>
{% endfor %}
</div></a>


</div>
</div>
    
 <!--Se eu tiver uma página anterior -->
<nav aria-label="Page navigation example" >
    <ul class="pagination" style="margin-top: -2px; margin-left:60px;">
    {% if page_obj.has_previous %}
      <li class="page-item" style="margin-top: -2px; margin-left:160px;"><a class="btn btn-light"  class="page-link" aria-label="Previous" href="?page{{page_obj.previous_page_number}}">
      Back
      </a></li>
    {% endif %}

    {% if page_obj.has_next %}
      <li class="page-item"><a class="btn btn-light" class="page-link"  href="?page={{page_obj.next_page_number}}">Next
      
      </a></li>
      </ul>
    {% endif %}
</nav>

</div>
</div>
{% endif %}
</body>

<script>
    const hamburgerMenu = document.querySelector('.hamburger-menu');
    const menu = document.querySelector('.menu');
    hamburgerMenu.addEventListener('click', () => {
    menu.classList.toggle('active');
    });

</script> 
<!-- Alerta java script ao salvar os dados -->
{% if messages %}
    {% for message in messages %}
        <script type="text/javascript">
          swal("{{ message }}",{
          buttons: false,});
          
          setTimeout(function() {
          swal.close(); //O SweetAlert torna as mensagens pop-up fáceis e bonitas.
          
        }, 1000); // Tempo em milissegundos (1000 = 1 segundo)
        </script>
    {% endfor %}
{% endif %}
</html>
