{% load static %}
<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <title></title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="{% static 'css/homepage.css' %}">
        <link rel="stylesheet" href="{% static 'css/welcome.css' %}">
        <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
        <link rel="icon" type="image/x-icon" href="{%  static 'imgs/projects.jpeg' %}">
        <script src = "https://unpkg.com/sweetalert/dist/sweetalert.min.js "></script> 
    <style>
    .container{
      margin-top: -5px;
    }
    .card-container{
      width: 250px;
      
      
    }
     h5{
     text-align: center;
     color: black;
     }
     h4{
      text-align:center; color:white;margin-top:30px;
     }
    .swal-modal {
    background-color: white;
    margin-top: -110px;
    margin-right:30px;
    border: 10px solid white;
    width: 270px;
    height: 130px;
    }
    </style>
    </head>
    <body>
    {% if request.user.is_authenticated %}
    <header class="header" class="navbar">
    <div class="hamburger-menu" >
      <div class="line"></div>
      <div class="line"></div>
      <div class="line"></div>
    </div>
    <div class="menu">
    <b><li style="color:white;">Your Projects</li></b>
    {% if user.perfil.foto_perfil %}
    <li><img src="{{ user.perfil.foto_perfil.url }}"  style="margin-left: 5px;" alt="retrato" width="50" height="50"></li>
    {% else %}
    <li><a href="" style="color:black;" ><svg xmlns="http://www.w3.org/2000/svg" style="margin-top: -5px; margin-left: 7px;" width="30" height="30" fill="currentColor" class="bi bi-person-circle" viewBox="0 0 16 16">
    <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>
    <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"/>
    </svg></a></li>
    {% endif %}
    <li></li>
    
    <li><a href="{% url 'listar-list' %}" style="margin-top: 10px;">Listas <svg xmlns="http://www.w3.org/2000/svg"  style="margin-top:-50px; margin-left:45px; color:white;" width="30" height="20" fill="currentColor" class="bi bi-check-all" viewBox="0 0 16 16">
    <path d="M8.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L2.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093L8.95 4.992a.252.252 0 0 1 .02-.022zm-.92 5.14.92.92a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 1 0-1.091-1.028L9.477 9.417l-.485-.486-.943 1.179z"/>
    </svg></a></li>

    <li><a href="{% url 'your-business' %}" style="margin-top: -40px;">Business<svg xmlns="http://www.w3.org/2000/svg" style="margin-top:-58px; margin-left:70px; color:white;" width="18" height="20" fill="currentColor" class="bi bi-graph-up-arrow" viewBox="0 0 16 16">
    <path fill-rule="evenodd" d="M0 0h1v15h15v1H0V0Zm10 3.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0V4.9l-3.613 4.417a.5.5 0 0 1-.74.037L7.06 6.767l-3.656 5.027a.5.5 0 0 1-.808-.588l4-5.5a.5.5 0 0 1 .758-.06l2.609 2.61L13.445 4H10.5a.5.5 0 0 1-.5-.5Z"/>
    </svg>
    </a></li>
    <li><a href="#" style="margin-top: -40px;" >Suporte</a></li>
    <li><a href="{% url 'user_list' %}" style="margin-top:100px;">Usuários</a></li>
    <li><a href="{% url 'resetnewpassword' %}" style="margin-top: -10px;">Alterar Senha</a></li>
    <li><a href="{% url 'perfil-update' %}" style="margin-top: -10px;">Perfil</a></li>
    <li><a href="{% url 'logout' %}" style="margin-top: -10px;">Logout</a></li>
    </div>
    
 </div>
  </header>
  </div>
  <div class="container">
   <b><a href="{% url 'welcome' %}" style="color: white; margin-left: 10px; "><svg xmlns="http://www.w3.org/2000/svg" style="margin-top: -5px;" width="16" height="16" fill="currentColor" class="bi bi-arrow-90deg-left" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M1.146 4.854a.5.5 0 0 1 0-.708l4-4a.5.5 0 1 1 .708.708L2.707 4H12.5A2.5 2.5 0 0 1 15 6.5v8a.5.5 0 0 1-1 0v-8A1.5 1.5 0 0 0 12.5 5H2.707l3.147 3.146a.5.5 0 1 1-.708.708l-4-4z"/>
</svg> Back to projects</a></b>
  
  
  <h4  href="#">Your Business<svg xmlns="http://www.w3.org/2000/svg" style="margin-top: -7px;" width="30" height="25" fill="currentColor" class="bi bi-currency-dollar" viewBox="0 0 16 16">
  <path d="M4 10.781c.148 1.667 1.513 2.85 3.591 3.003V15h1.043v-1.216c2.27-.179 3.678-1.438 3.678-3.3 0-1.59-.947-2.51-2.956-3.028l-.722-.187V3.467c1.122.11 1.879.714 2.07 1.616h1.47c-.166-1.6-1.54-2.748-3.54-2.875V1H7.591v1.233c-1.939.23-3.27 1.472-3.27 3.156 0 1.454.966 2.483 2.661 2.917l.61.162v4.031c-1.149-.17-1.94-.8-2.131-1.718H4zm3.391-3.836c-1.043-.263-1.6-.825-1.6-1.616 0-.944.704-1.641 1.8-1.828v3.495l-.2-.05zm1.591 1.872c1.287.323 1.852.859 1.852 1.769 0 1.097-.826 1.828-2.2 1.939V8.73l.348.086z"/>
</svg></h4>
  <br>
  <br>
  

  <ul>
    <div role="group" aria-label="Basic example" style="margin-left:25px;">
    <a class="btn btn-light" href="{% url 'create-business' %}">Create business <svg xmlns="http://www.w3.org/2000/svg" style="margin-top:-5px; " width="20" height="20" fill="currentColor" class="bi bi-lightbulb" viewBox="0 0 16 16">
  <path d="M2 6a6 6 0 1 1 10.174 4.31c-.203.196-.359.4-.453.619l-.762 1.769A.5.5 0 0 1 10.5 13a.5.5 0 0 1 0 1 .5.5 0 0 1 0 1l-.224.447a1 1 0 0 1-.894.553H6.618a1 1 0 0 1-.894-.553L5.5 15a.5.5 0 0 1 0-1 .5.5 0 0 1 0-1 .5.5 0 0 1-.46-.302l-.761-1.77a1.964 1.964 0 0 0-.453-.618A5.984 5.984 0 0 1 2 6zm6-5a5 5 0 0 0-3.479 8.592c.263.254.514.564.676.941L5.83 12h4.342l.632-1.467c.162-.377.413-.687.676-.941A5 5 0 0 0 8 1z"/>
</svg></a>
 <!--<a class="btn btn-light" href="">Pipeline<svg xmlns="http://www.w3.org/2000/svg" style="margin-top:-5px;" width="20" height="20" fill="currentColor" class="bi bi-archive" viewBox="0 0 16 16">
  <path d="M0 2a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1v7.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 12.5V5a1 1 0 0 1-1-1V2zm2 3v7.5A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5V5H2zm13-3H1v2h14V2zM5 7.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z"/>
</svg></a>-->
<a class="btn btn-light" href="{% url 'sales' %}">Charts <svg xmlns="http://www.w3.org/2000/svg" style="margin-top:-5px;" width="20" height="20" fill="currentColor" class="bi bi-reception-3" viewBox="0 0 16 16">
  <path d="M0 11.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2zm4-3a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 .5.5v5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-5zm4-3a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-8zm4 8a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5z"/>
</svg></a>
<a class="btn btn-light" href="{% url 'customer-report' %}"> Report <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-file-earmark-text" viewBox="0 0 16 16">
  <path d="M5.5 7a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1h-5zM5 9.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5z"/>
  <path d="M9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.5L9.5 0zm0 1v2A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5z"/>
</svg></a>

</ul>
<br>


<form action="?" method="GET" enctype="multipart/form-data">

{% csrf_token %}
    <input style="text-align:center; margin-left:10px;" type="text" name="titulo" id ="" value="{{request.GET.titulo}}" , placeholder="Pesquisar">
    
    <button type="submit" class=" btn btn-primary btn-sm" style="margin-top:-5px;">Buscar</button>
    <a href="{% url 'welcome' %}"  class="btn btn-light btn-sm" style="margin-top:-4px;margin-left:1px;">Limpar</a>
    
    
    <!--<input name="myfile"  type="file" value="">
    <button type="submit" class=" btn btn-primary btn-sm-lg">Upload</button>-->

</form>
<br>

 {% csrf_token %}
    {% for business in object_list %}
  <li>
    <a href="{% url 'update-business' business.pk %}">
    <div class="card-container"  >
      <div class="card" >
        <h5>{{business.cliente}}</h5>
        <br>
        <p style="margin-left:10px; margin-top:-7px;">{{business.descriçao}}</p>
        <p style="margin-left:10px"><svg xmlns="http://www.w3.org/2000/svg" style="margin-top:-3px;" width="20" height="20" fill="currentColor" class="bi bi-currency-exchange" viewBox="0 0 16 16">
        <path d="M0 5a5.002 5.002 0 0 0 4.027 4.905 6.46 6.46 0 0 1 .544-2.073C3.695 7.536 3.132 6.864 3 5.91h-.5v-.426h.466V5.05c0-.046 0-.093.004-.135H2.5v-.427h.511C3.236 3.24 4.213 2.5 5.681 2.5c.316 0 .59.031.819.085v.733a3.46 3.46 0 0 0-.815-.082c-.919 0-1.538.466-1.734 1.252h1.917v.427h-1.98c-.003.046-.003.097-.003.147v.422h1.983v.427H3.93c.118.602.468 1.03 1.005 1.229a6.5 6.5 0 0 1 4.97-3.113A5.002 5.002 0 0 0 0 5zm16 5.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0zm-7.75 1.322c.069.835.746 1.485 1.964 1.562V14h.54v-.62c1.259-.086 1.996-.74 1.996-1.69 0-.865-.563-1.31-1.57-1.54l-.426-.1V8.374c.54.06.884.347.966.745h.948c-.07-.804-.779-1.433-1.914-1.502V7h-.54v.629c-1.076.103-1.808.732-1.808 1.622 0 .787.544 1.288 1.45 1.493l.358.085v1.78c-.554-.08-.92-.376-1.003-.787H8.25zm1.96-1.895c-.532-.12-.82-.364-.82-.732 0-.41.311-.719.824-.809v1.54h-.005zm.622 1.044c.645.145.943.38.943.796 0 .474-.37.8-1.02.86v-1.674l.077.018z"/>
       </svg> {{business.ticket}}</p>
       <p style="margin-left:10px"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="20" fill="currentColor" class="bi bi-telephone-forward-fill" viewBox="0 0 16 16">
       <path fill-rule="evenodd" d="M1.885.511a1.745 1.745 0 0 1 2.61.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511zm10.761.135a.5.5 0 0 1 .708 0l2.5 2.5a.5.5 0 0 1 0 .708l-2.5 2.5a.5.5 0 0 1-.708-.708L14.293 4H9.5a.5.5 0 0 1 0-1h4.793l-1.647-1.646a.5.5 0 0 1 0-.708z"/>
       </svg>  {{business.telefone}}</p>
        <p style="margin-left:10px; margin-top:-5px;">Sales Manager: {{business.commercial_manager}}</p>
        <p style="margin-left:10px; margin-top:-5px;">Partner🤝: {{business.business_partner}}</p>
        <a style="margin-left:10px;margin-top:-7px;" href="{% url 'update-business' business.pk %}">Editar</a>
        <a style="margin-left:10px;margin-top:-3px;" href="{% url 'delete-business' business.pk %}">Deletar</a>
        <p style=" text-align:center; margin-top:15px;"> <svg xmlns="http://www.w3.org/2000/svg" style="margin-top:-5px;" width="15" height="15" fill="currentColor" class="bi bi-calendar-week" viewBox="0 0 16 16">
      <path d="M11 6.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm-3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm-5 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1z"/>
      <path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z"/>
      </svg> {{business.data_registro}}</p>
      <p style="color:transparent;">...............................</p>
      </div></a>
        {% empty %}
        <p style="margin-left:70px; color:white;">Nenhum negócio registrado..</p>
        </li>
        {% endfor %}
    
    </div>
  </div>
    
 <!--Se eu tiver uma página anterior -->
<nav aria-label="Page navigation example" >
    <ul class="pagination">
    {% if page_obj.has_previous %}
      <li class="page-item"><a class="btn btn-light"  class="page-link" aria-label="Previous" href="?page{{page_obj.previous_page_number}}">
      <span aria-hidden="true">Back</span>
      </a></li>
    {% endif %}

    {% if page_obj.has_next %}
      <li class="page-item"><a class="btn btn-light" class="page-link"  href="?page={{page_obj.next_page_number}}">Next
      
      </a></li>
      </ul>
    {% endif %}
</nav>

</div>
</div>
{% endif %}
</body>

<script>
    const hamburgerMenu = document.querySelector('.hamburger-menu');
    const menu = document.querySelector('.menu');
    hamburgerMenu.addEventListener('click', () => {
    menu.classList.toggle('active');
    });

</script> 
<!-- Alerta java script ao salvar os dados -->
{% if messages %}
    {% for message in messages %}
        <script type="text/javascript">
          swal("{{ message }}",{
          buttons: false,});
          
          setTimeout(function() {
          swal.close(); //O SweetAlert torna as mensagens pop-up fáceis e bonitas.
          
        }, 1000); // Tempo em milissegundos (1000 = 1 segundo)
        </script>
    {% endfor %}
{% endif %}
</html>

    

    
